<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sofn.dao.qry.SubjectExpandMapper" >
    <resultMap id="subjSvMap" type="com.sofn.model.generator.AsmsSubjSupervise">
        <id column="ID" jdbcType="CHAR" property="id" />
        <result column="SV_NAME" jdbcType="VARCHAR" property="svName" />
        <result column="SV_CODE" jdbcType="VARCHAR" property="svCode" />
        <result column="SV_TYPE" jdbcType="VARCHAR" property="svType" />
        <result column="SV_LEVEL" jdbcType="VARCHAR" property="svLevel" />
        <result column="SV_LEVEL_ID" jdbcType="VARCHAR" property="svLevelId" />
        <result column="SV_AREA_ID" jdbcType="VARCHAR" property="svAreaId" />
        <result column="SV_ADDRESS" jdbcType="VARCHAR" property="svAddress" />
        <result column="SV_LEADER" jdbcType="VARCHAR" property="svLeader" />
        <result column="SV_LEADER_PHONE" jdbcType="VARCHAR" property="svLeaderPhone" />
        <result column="SV_CONTACT" jdbcType="VARCHAR" property="svContact" />
        <result column="SV_CONTACT_PHONE" jdbcType="VARCHAR" property="svContactPhone" />
        <result column="SV_CONTACT_Q_Q" jdbcType="VARCHAR" property="svContactQQ" />
        <result column="SV_CONTACT_EMAIL" jdbcType="VARCHAR" property="svContactEmail" />
        <result column="SV_POSTCODE" jdbcType="CHAR" property="svPostcode" />
        <result column="CREATE_BY" jdbcType="CHAR" property="createBy" />
        <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
        <result column="STATUS" jdbcType="CHAR" property="status" />
        <result column="DEL_FLAG" jdbcType="CHAR" property="delFlag" />
        <result column="SV_TYPE_ID" jdbcType="VARCHAR" property="svTypeId" />
        <result column="SV_AREA" jdbcType="VARCHAR" property="svArea" />
    </resultMap>
    <resultMap id="subjElMap" type="com.sofn.model.generator.AsmsSubjEnforceLaw">
        <id column="ID" jdbcType="CHAR" property="id" />
        <result column="EL_NAME" jdbcType="VARCHAR" property="elName" />
        <result column="EL_CODE" jdbcType="VARCHAR" property="elCode" />
        <result column="EL_TYPE" jdbcType="VARCHAR" property="elType" />
        <result column="EL_LEVEL" jdbcType="VARCHAR" property="elLevel" />
        <result column="EL_AREA_ID" jdbcType="VARCHAR" property="elAreaId" />
        <result column="EL_ADDRESS" jdbcType="VARCHAR" property="elAddress" />
        <result column="EL_LEADER" jdbcType="VARCHAR" property="elLeader" />
        <result column="EL_LEADER_PHONE" jdbcType="VARCHAR" property="elLeaderPhone" />
        <result column="EL_CONTACT" jdbcType="VARCHAR" property="elContact" />
        <result column="EL_CONTACT_PHONE" jdbcType="VARCHAR" property="elContactPhone" />
        <result column="EL_CONTACT_Q_Q" jdbcType="VARCHAR" property="elContactQQ" />
        <result column="EL_CONTACT_EMAIL" jdbcType="VARCHAR" property="elContactEmail" />
        <result column="EL_POSTCODE" jdbcType="CHAR" property="elPostcode" />
        <result column="CREATE_BY" jdbcType="CHAR" property="createBy" />
        <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
        <result column="STATUS" jdbcType="CHAR" property="status" />
        <result column="EL_UNIT_NATURE" jdbcType="VARCHAR" property="elUnitNature" />
        <result column="EL_WORK_BODY" jdbcType="VARCHAR" property="elWorkBody" />
        <result column="DEL_FLAG" jdbcType="CHAR" property="delFlag" />
        <result column="EL_LEVEL_ID" jdbcType="VARCHAR" property="elLevelId" />
        <result column="EL_TYPE_ID" jdbcType="VARCHAR" property="elTypeId" />
        <result column="EL_AREA" jdbcType="VARCHAR" property="elArea" />
        <result column="EL_PEOPLE_NUM" jdbcType="VARCHAR" property="elPeopleNum" />
    </resultMap>
    <resultMap id="subjDtMap" type="com.sofn.model.generator.AsmsSubjDetection">
        <id column="ID" jdbcType="CHAR" property="id" />
        <result column="DT_NAME" jdbcType="VARCHAR" property="dtName" />
        <result column="DT_CODE" jdbcType="VARCHAR" property="dtCode" />
        <result column="DT_TYPE" jdbcType="VARCHAR" property="dtType" />
        <result column="DT_NATURE" jdbcType="VARCHAR" property="dtNature" />
        <result column="DT_QUALIFICATIONS" jdbcType="VARCHAR" property="dtQualifications" />
        <result column="DT_RELY_ON_UNIT" jdbcType="VARCHAR" property="dtRelyOnUnit" />
        <result column="DT_LEVEL" jdbcType="VARCHAR" property="dtLevel" />
        <result column="DT_AREA_ID" jdbcType="VARCHAR" property="dtAreaId" />
        <result column="DT_ADDRESS" jdbcType="VARCHAR" property="dtAddress" />
        <result column="DT_LEGAL_MAN" jdbcType="VARCHAR" property="dtLegalMan" />
        <result column="DT_LEADER" jdbcType="VARCHAR" property="dtLeader" />
        <result column="DT_LEADER_PHONE" jdbcType="VARCHAR" property="dtLeaderPhone" />
        <result column="DT_CONTACT" jdbcType="VARCHAR" property="dtContact" />
        <result column="DT_CONTACT_PHONE" jdbcType="VARCHAR" property="dtContactPhone" />
        <result column="DT_CONTACT_Q_Q" jdbcType="VARCHAR" property="dtContactQQ" />
        <result column="DT_CONTACT_EMAIL" jdbcType="VARCHAR" property="dtContactEmail" />
        <result column="DT_POSTCODE" jdbcType="CHAR" property="dtPostcode" />
        <result column="DT_TECHNICAL_DIRECTOR" jdbcType="VARCHAR" property="dtTechnicalDirector" />
        <result column="DT_QUALITY_DIRECTOR" jdbcType="VARCHAR" property="dtQualityDirector" />
        <result column="DT_PARAMETER" jdbcType="VARCHAR" property="dtParameter" />
        <result column="DT_PRODUCT_RANGE" jdbcType="VARCHAR" property="dtProductRange" />
        <result column="CREATE_BY" jdbcType="CHAR" property="createBy" />
        <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
        <result column="STATUS" jdbcType="CHAR" property="status" />
        <result column="DEL_FLAG" jdbcType="CHAR" property="delFlag" />
        <result column="DT_LEVEL_ID" jdbcType="VARCHAR" property="dtLevelId" />
        <result column="DT_NATURE_ID" jdbcType="VARCHAR" property="dtNatureId" />
        <result column="DT_QUALIFICATIONS_ID" jdbcType="VARCHAR" property="dtQualificationsId" />
        <result column="DT_TYPE_ID" jdbcType="VARCHAR" property="dtTypeId" />
        <result column="DT_AREA" jdbcType="VARCHAR" property="dtArea" />
    </resultMap>
    <resultMap id="subjSvChangeMap" type="com.sofn.model.generator.AsmsSubjSvChange">
        <id column="ID" jdbcType="CHAR" property="id" />
        <result column="SV_NAME" jdbcType="VARCHAR" property="svName" />
        <result column="SV_CODE" jdbcType="VARCHAR" property="svCode" />
        <result column="SV_TYPE" jdbcType="VARCHAR" property="svType" />
        <result column="SV_LEVEL" jdbcType="VARCHAR" property="svLevel" />
        <result column="SV_LEVEL_ID" jdbcType="VARCHAR" property="svLevelId" />
        <result column="SV_AREA_ID" jdbcType="VARCHAR" property="svAreaId" />
        <result column="SV_ADDRESS" jdbcType="VARCHAR" property="svAddress" />
        <result column="SV_LEADER" jdbcType="VARCHAR" property="svLeader" />
        <result column="SV_LEADER_PHONE" jdbcType="VARCHAR" property="svLeaderPhone" />
        <result column="SV_CONTACT" jdbcType="VARCHAR" property="svContact" />
        <result column="SV_CONTACT_PHONE" jdbcType="VARCHAR" property="svContactPhone" />
        <result column="SV_CONTACT_Q_Q" jdbcType="VARCHAR" property="svContactQQ" />
        <result column="SV_CONTACT_EMAIL" jdbcType="VARCHAR" property="svContactEmail" />
        <result column="SV_POSTCODE" jdbcType="VARCHAR" property="svPostcode" />
        <result column="SV_FILE" jdbcType="VARCHAR" property="svFile" />
        <result column="CHANGE_BEFORE_FIELD" jdbcType="VARCHAR" property="changeBeforeField" />
        <result column="CHANGE_CONTENT" jdbcType="VARCHAR" property="changeContent" />
        <result column="APPLY_USER_ID" jdbcType="CHAR" property="applyUserId" />
        <result column="APPLY_TIME" jdbcType="TIMESTAMP" property="applyTime" />
        <result column="APPLY_SV_ID" jdbcType="CHAR" property="applySvId" />
        <result column="APPLY_REASON" jdbcType="VARCHAR" property="applyReason" />
        <result column="AUDIT_USER_ID" jdbcType="CHAR" property="auditUserId" />
        <result column="AUDIT_SV_ID" jdbcType="CHAR" property="auditSvId" />
        <result column="AUDIT_TIME" jdbcType="TIMESTAMP" property="auditTime" />
        <result column="AUDIT_SUGGESTION" jdbcType="VARCHAR" property="auditSuggestion" />
        <result column="AUDIT_STATE" jdbcType="CHAR" property="auditState" />
        <result column="DEL_FLAG" jdbcType="CHAR" property="delFlag" />
        <result column="SV_TYPE_ID" jdbcType="VARCHAR" property="svTypeId" />
        <result column="SV_AREA" jdbcType="VARCHAR" property="svArea" />
    </resultMap>
    <resultMap id="subjElChangeMap" type="com.sofn.model.generator.AsmsSubjElChange">
        <id column="ID" jdbcType="CHAR" property="id" />
        <result column="EL_NAME" jdbcType="VARCHAR" property="elName" />
        <result column="EL_CODE" jdbcType="VARCHAR" property="elCode" />
        <result column="EL_TYPE" jdbcType="CHAR" property="elType" />
        <result column="EL_LEVEL" jdbcType="VARCHAR" property="elLevel" />
        <result column="EL_AREA_ID" jdbcType="VARCHAR" property="elAreaId" />
        <result column="EL_ADDRESS" jdbcType="VARCHAR" property="elAddress" />
        <result column="EL_LEADER" jdbcType="VARCHAR" property="elLeader" />
        <result column="EL_LEADER_PHONE" jdbcType="VARCHAR" property="elLeaderPhone" />
        <result column="EL_CONTACT" jdbcType="VARCHAR" property="elContact" />
        <result column="EL_CONTACT_PHONE" jdbcType="VARCHAR" property="elContactPhone" />
        <result column="EL_CONTACT_Q_Q" jdbcType="VARCHAR" property="elContactQQ" />
        <result column="EL_CONTACT_EMAIL" jdbcType="VARCHAR" property="elContactEmail" />
        <result column="EL_POSTCODE" jdbcType="CHAR" property="elPostcode" />
        <result column="EL_UNIT_NATURE" jdbcType="CHAR" property="elUnitNature" />
        <result column="EL_WORK_BODY" jdbcType="CHAR" property="elWorkBody" />
        <result column="EL_FILE" jdbcType="VARCHAR" property="elFile" />
        <result column="CHANGE_BEFORE_FIELD" jdbcType="VARCHAR" property="changeBeforeField" />
        <result column="CHANGE_CONTENT" jdbcType="VARCHAR" property="changeContent" />
        <result column="APPLY_TIME" jdbcType="TIMESTAMP" property="applyTime" />
        <result column="APPLY_USER_ID" jdbcType="CHAR" property="applyUserId" />
        <result column="APPLY_EL_ID" jdbcType="CHAR" property="applyElId" />
        <result column="APPLY_REASON" jdbcType="VARCHAR" property="applyReason" />
        <result column="AUDIT_USER_ID" jdbcType="CHAR" property="auditUserId" />
        <result column="AUDIT_SV_ID" jdbcType="CHAR" property="auditSvId" />
        <result column="AUDIT_TIME" jdbcType="TIMESTAMP" property="auditTime" />
        <result column="AUDIT_SUGGESTION" jdbcType="VARCHAR" property="auditSuggestion" />
        <result column="AUDIT_STATE" jdbcType="CHAR" property="auditState" />
        <result column="DEL_FLAG" jdbcType="CHAR" property="delFlag" />
        <result column="EL_LEVEL_ID" jdbcType="VARCHAR" property="elLevelId" />
        <result column="EL_TYPE_ID" jdbcType="VARCHAR" property="elTypeId" />
        <result column="EL_AREA" jdbcType="VARCHAR" property="elArea" />
        <result column="EL_PEOPLE_NUM" jdbcType="VARCHAR" property="elPeopleNum" />
    </resultMap>
    <resultMap id="subjDtChangeMap" type="com.sofn.model.generator.AsmsSubjDtChange">
        <id column="ID" jdbcType="CHAR" property="id" />
        <result column="DT_NAME" jdbcType="VARCHAR" property="dtName" />
        <result column="DT_CODE" jdbcType="VARCHAR" property="dtCode" />
        <result column="DT_TYPE" jdbcType="VARCHAR" property="dtType" />
        <result column="DT_NATURE" jdbcType="VARCHAR" property="dtNature" />
        <result column="DT_QUALIFICATIONS" jdbcType="VARCHAR" property="dtQualifications" />
        <result column="DT_RELY_ON_UNIT" jdbcType="VARCHAR" property="dtRelyOnUnit" />
        <result column="DT_LEVEL" jdbcType="VARCHAR" property="dtLevel" />
        <result column="DT_AREA_ID" jdbcType="VARCHAR" property="dtAreaId" />
        <result column="DT_ADDRESS" jdbcType="VARCHAR" property="dtAddress" />
        <result column="DT_LEGAL_MAN" jdbcType="VARCHAR" property="dtLegalMan" />
        <result column="DT_LEADER" jdbcType="VARCHAR" property="dtLeader" />
        <result column="DT_LEADER_PHONE" jdbcType="VARCHAR" property="dtLeaderPhone" />
        <result column="DT_CONTACT" jdbcType="VARCHAR" property="dtContact" />
        <result column="DT_CONTACT_PHONE" jdbcType="VARCHAR" property="dtContactPhone" />
        <result column="DT_CONTACT_Q_Q" jdbcType="VARCHAR" property="dtContactQQ" />
        <result column="DT_CONTACT_EMAIL" jdbcType="VARCHAR" property="dtContactEmail" />
        <result column="DT_POSTCODE" jdbcType="CHAR" property="dtPostcode" />
        <result column="DT_TECHNICAL_DIRECTOR" jdbcType="VARCHAR" property="dtTechnicalDirector" />
        <result column="DT_QUALITY_DIRECTOR" jdbcType="VARCHAR" property="dtQualityDirector" />
        <result column="DT_PARAMETER" jdbcType="VARCHAR" property="dtParameter" />
        <result column="DT_PRODUCT_RANGE" jdbcType="VARCHAR" property="dtProductRange" />
        <result column="DT_FILE" jdbcType="VARCHAR" property="dtFile" />
        <result column="CHANGE_BEFORE_FIELD" jdbcType="VARCHAR" property="changeBeforeField" />
        <result column="CHANGE_CONTENT" jdbcType="VARCHAR" property="changeContent" />
        <result column="APPLY_USER_ID" jdbcType="CHAR" property="applyUserId" />
        <result column="APPLY_TIME" jdbcType="TIMESTAMP" property="applyTime" />
        <result column="APPLY_DT_ID" jdbcType="CHAR" property="applyDtId" />
        <result column="APPLY_REASON" jdbcType="VARCHAR" property="applyReason" />
        <result column="AUDIT_USER_ID" jdbcType="CHAR" property="auditUserId" />
        <result column="AUDIT_SV_ID" jdbcType="CHAR" property="auditSvId" />
        <result column="AUDIT_TIME" jdbcType="TIMESTAMP" property="auditTime" />
        <result column="AUDIT_SUGGESTION" jdbcType="VARCHAR" property="auditSuggestion" />
        <result column="AUDIT_STATE" jdbcType="CHAR" property="auditState" />
        <result column="DEL_FLAG" jdbcType="CHAR" property="delFlag" />
        <result column="DT_LEVEL_ID" jdbcType="VARCHAR" property="dtLevelId" />
        <result column="DT_NATURE_ID" jdbcType="VARCHAR" property="dtNatureId" />
        <result column="DT_QUALIFICATIONS_ID" jdbcType="VARCHAR" property="dtQualificationsId" />
        <result column="DT_TYPE_ID" jdbcType="VARCHAR" property="dtTypeId" />
        <result column="DT_AREA" jdbcType="VARCHAR" property="dtArea" />
    </resultMap>
    <resultMap id="BaseResultMap" type="com.sofn.model.generator.TtsScltxxcjRegiter">
        <id column="ID" property="id" jdbcType="VARCHAR"/>
        <result column="ENTITY_SCALE_NAME" property="entityScaleName" jdbcType="VARCHAR"/>
        <result column="ENTITY_TYPE_NAME" property="entityTypeName" jdbcType="VARCHAR"/>
        <result column="ENTITY_PROPERTY_NAME" property="entityPropertyName" jdbcType="VARCHAR"/>
        <result column="ENTITY_INDUSTRY_NAME" property="entityIndustryName" jdbcType="VARCHAR"/>
        <result column="UNIT_NAME" property="unitName" jdbcType="VARCHAR"/>
        <result column="LATITUDE" property="latitude" jdbcType="DECIMAL"/>
        <result column="LEGAL_NAME" property="legalName" jdbcType="VARCHAR"/>
        <result column="LEGAL_IDNUMBER" property="legalIdnumber" jdbcType="VARCHAR"/>
        <result column="LEGAL_PHONE" property="legalPhone" jdbcType="VARCHAR"/>
        <result column="LEGAL_IMAGES" property="legalImages" jdbcType="VARCHAR"/>
        <result column="FAX_NUMBER" property="faxNumber" jdbcType="VARCHAR"/>
        <result column="CONTACT_NAME" property="contactName" jdbcType="VARCHAR"/>
        <result column="CONTACT_PHONE" property="contactPhone" jdbcType="VARCHAR"/>
        <result column="CONTACT_EMAIL" property="contactEmail" jdbcType="VARCHAR"/>
        <result column="REGISTER_TIME" property="registerTime" jdbcType="TIMESTAMP"/>
        <result column="APPROVE_STATUS" property="approveStatus" jdbcType="CHAR"/>
        <result column="APPROVE_OPINION" property="approveOpinion" jdbcType="VARCHAR"/>
        <result column="APPROVE_USER_IDCODE" property="approveUserIdcode" jdbcType="VARCHAR"/>
        <result column="APPROVE_NAME" property="approveName" jdbcType="VARCHAR"/>
        <result column="APPROVE_TIME" property="approveTime" jdbcType="TIMESTAMP"/>
        <result column="USER_IDCODE" property="userIdcode" jdbcType="VARCHAR"/>
        <result column="ENTITY_IDCODE" property="entityIdcode" jdbcType="VARCHAR"/>
        <result column="ACCOUNT" property="account" jdbcType="VARCHAR"/>
        <result column="REAL_NAME" property="realName" jdbcType="VARCHAR"/>
        <result column="IDCODE" property="idcode" jdbcType="VARCHAR"/>
        <result column="ENTITY_SCALE" property="entityScale" jdbcType="VARCHAR"/>
        <result column="ENTITY_TYPE" property="entityType" jdbcType="VARCHAR"/>
        <result column="ENTITY_PROPERTY" property="entityProperty" jdbcType="VARCHAR"/>
        <result column="ENTITY_INDUSTRY" property="entityIndustry" jdbcType="VARCHAR"/>
        <result column="ENTERPRISE_NAME" property="enterpriseName" jdbcType="VARCHAR"/>
        <result column="CARD_TYPE" property="cardType" jdbcType="CHAR"/>
        <result column="CREDIT_CODE" property="creditCode" jdbcType="VARCHAR"/>
        <result column="BUSINESS_OPERATION" property="businessOperation" jdbcType="VARCHAR"/>
        <result column="BUSINESS_OPERATION_START" property="businessOperationStart" jdbcType="TIMESTAMP"/>
        <result column="BUSINESS_OPERATION_END" property="businessOperationEnd" jdbcType="TIMESTAMP"/>
        <result column="ENTERPRISE_INDUSTRY" property="enterpriseIndustry" jdbcType="VARCHAR"/>
        <result column="ANNUAL_OUTPUT" property="annualOutput" jdbcType="VARCHAR"/>
        <result column="UNIT" property="unit" jdbcType="VARCHAR"/>
        <result column="ADDRESS" property="address" jdbcType="VARCHAR"/>
        <result column="DOCUMENT_IMAGES" property="documentImages" jdbcType="VARCHAR"/>
        <result column="AREA" property="area" jdbcType="VARCHAR"/>
        <result column="LONGITUDE" property="longitude" jdbcType="DECIMAL"/>
        <result column="DEL_FLAG" property="delFlag" jdbcType="VARCHAR"/>
        <result column="CREATE_BY" property="createBy" jdbcType="VARCHAR"/>
        <result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR"/>
        <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP"/>
        <result column="UPDATE_TIME" property="updateTime" jdbcType="TIMESTAMP"/>
        <result column="BUSINESS_LICENCEIMG" property="businessLicenceimg" jdbcType="VARCHAR" />
        <result column="ORGANIZATION_CERTIFICATEIMG" property="organizationCertificateimg" jdbcType="VARCHAR" />
        <result column="POSITIVE_IDCARDEIMG" property="positiveIdcardeimg" jdbcType="VARCHAR" />
        <result column="NEGATIVE_IDCARDIMG" property="negativeIdcardimg" jdbcType="VARCHAR" />
        <result column="HAND_IDCARDIMG" property="handIdcardimg" jdbcType="VARCHAR" />
        <result column="ORGANIZATION_CODE" property="organizationCode" jdbcType="VARCHAR" />
        <result column="IS_LONG" property="isLong" jdbcType="VARCHAR" />
    </resultMap>
    <resultMap id="BaseResultMapNew" type="com.sofn.model.qry.TtsScltxxcjRegiterDto2" extends="BaseResultMap">
        <result column="USER_ID" jdbcType="VARCHAR" property="userId" />
        <result column="USER_ACCOUNT" jdbcType="VARCHAR" property="userAccount" />
        <result column="USER_PASSWORD" jdbcType="VARCHAR" property="userPassword" />
    </resultMap>
    <resultMap id="badRecordMap" type="com.sofn.model.generator.AsmsSubjEntBadrecord" >
        <id column="ID" property="id" jdbcType="CHAR" />
        <result column="ENTERPRISE_ID" property="enterpriseId" jdbcType="VARCHAR" />
        <result column="BADRECORD_CONTENT" property="badrecordContent" jdbcType="VARCHAR" />
        <result column="CREATE_BY" property="createBy" jdbcType="CHAR" />
        <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
        <result column="BADRECORD_FILE" property="badrecordFile" jdbcType="VARCHAR" />
        <result column="DEL_FLAG" property="delFlag" jdbcType="CHAR" />
        <result column="SOURCE_ID" property="sourceId" jdbcType="VARCHAR" />
        <result column="SOURCE_TYPE" property="sourceType" jdbcType="CHAR" />
    </resultMap>
    <resultMap id="EntTempMap" type="com.sofn.model.generator.AsmsSubjEntTemp">
        <id column="ID" jdbcType="CHAR" property="id" />
        <result column="ENTITY_NAME" jdbcType="VARCHAR" property="entityName" />
        <result column="ENTITY_SCALE" jdbcType="VARCHAR" property="entityScale" />
        <result column="ENTITY_SCALE_ID" jdbcType="VARCHAR" property="entityScaleId" />
        <result column="ENTITY_TYPE" jdbcType="VARCHAR" property="entityType" />
        <result column="ENTITY_TYPE_ID" jdbcType="VARCHAR" property="entityTypeId" />
        <result column="ENTITY_INDUSTRY" jdbcType="VARCHAR" property="entityIndustry" />
        <result column="ENTITY_INDUSTRY_ID" jdbcType="VARCHAR" property="entityIndustryId" />
        <result column="CRED_TYPE" jdbcType="VARCHAR" property="credType" />
        <result column="CRED_TIME" jdbcType="VARCHAR" property="credTime" />
        <result column="ORG_CODE" jdbcType="VARCHAR" property="orgCode" />
        <result column="AREA_ID" jdbcType="VARCHAR" property="areaId" />
        <result column="CONTACT_NAME" jdbcType="VARCHAR" property="contactName" />
        <result column="CONTACT_PHONE" jdbcType="VARCHAR" property="contactPhone" />
        <result column="CONTACT_EMAIL" jdbcType="VARCHAR" property="contactEmail" />
        <result column="CREATE_BY" jdbcType="CHAR" property="createBy" />
        <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
        <result column="CREATE_SUPERVISE_ID" jdbcType="CHAR" property="createSuperviseId" />
        <result column="UPDATE_BY" jdbcType="CHAR" property="updateBy" />
        <result column="UPDATE_TIME" jdbcType="TIMESTAMP" property="updateTime" />
        <result column="ENABLE" jdbcType="CHAR" property="enable" />
        <result column="DEL_FLAG" jdbcType="CHAR" property="delFlag" />
        <result column="ADDRESS" jdbcType="VARCHAR" property="address" />
        <result column="IDENTITY_CODE" jdbcType="VARCHAR" property="identityCode" />
    </resultMap>
    <resultMap id="XsdjAndCustomer" type="com.sofn.model.generator.TtsScltxxcjXsdjAndCustomer" extends="BaseResultMap">
        <result column="NAME" property="name" jdbcType="VARCHAR" />
        <result column="USER_NAME" property="userName" jdbcType="VARCHAR" />
        <result column="ADDRESS" property="address" jdbcType="VARCHAR" />
        <result column="PHONE" property="phone" jdbcType="VARCHAR" />
        <result column="XSNAME" property="xsName" jdbcType="VARCHAR"/>
        <result column="NUM" property="num" jdbcType="VARCHAR" />
    </resultMap>
    <resultMap id="TtsScltxxcjXsthAndCustomer" type="com.sofn.model.generator.TtsScltxxcjXsthAndCustomer" extends="BaseResultMap">
        <result column="NAME" property="name" jdbcType="VARCHAR" />
        <result column="USER_NAME" property="userName" jdbcType="VARCHAR" />
        <result column="ADDRESS" property="address" jdbcType="VARCHAR" />
        <result column="PHONE" property="phone" jdbcType="VARCHAR" />
        <result column="XSNAME" property="xsName" jdbcType="VARCHAR" />
        <result column="HARVEST_UNIT" property="harverestUnit" jdbcType="VARCHAR" />
        <result column="NUM" property="num" jdbcType="VARCHAR" />
    </resultMap>
    <select id="getSubjSuperviseList" resultMap="subjSvMap">
        SELECT * FROM (
        SELECT
        t.*, ROWNUM AS rn
        FROM
        (
        SELECT
        s.*
        FROM
        ASMS_SUBJ_SUPERVISE s
        WHERE
        1=1
        <if test="industryId!=null and industryId!=''">
            AND
            <foreach collection="industryId" item="item" index="index" open="(" close=")" separator="OR">
               s.INDUSTRY_ID LIKE '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="svLevel!=null and svLevel!=''">
            AND
            <foreach collection="svLevel" item="item" index="index" open="(" close=")" separator="OR">
                s.SV_LEVEL LIKE '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="status!=null and status!=''">
            <choose>
                <when test='status=="0"'>
                    AND ( s.STATUS='0' OR s.STATUS='1' OR s.STATUS='2' OR s.STATUS='3')
                </when>
                <otherwise>
                    AND s.STATUS=#{status}
                </otherwise>
            </choose>
        </if>
        <if test="currentOrgLevel!=null and currentOrgLevel!=''">
            AND s.SV_LEVEL &gt;= #{currentOrgLevel}
        </if>
        <if test="svLevelId!=null and svLevelId!=''">
            AND s.SV_LEVEL_ID=#{svLevelId}
        </if>
        <if test="svName!=null and svName!=''">
            AND s.SV_NAME like '%'||#{svName}||'%'
        </if>
        <if test="svLeader!=null and svLeader!=''">
            AND s.SV_LEADER like '%'||#{svLeader}||'%'
        </if>
        <if test="areaId!=null and areaId!=''">
            AND s.SV_AREA_ID like #{areaId}||'%'
        </if>
        <if test="dateBegin!=null and dateBegin!=''">
            AND s.CREATE_TIME &gt;= to_date(#{dateBegin},'yyyy-MM-dd')
        </if>
        <if test="dateEnd!=null and dateEnd!=''">
            AND s.CREATE_TIME &lt;= to_date(#{dateEnd},'yyyy-MM-dd')+1
        </if>

        ORDER BY s.SV_LEVEL ASC,CREATE_TIME DESC
        ) t
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSubjSuperviseCount" resultType="long" >
        SELECT
        COUNT(*)
        FROM
        ASMS_SUBJ_SUPERVISE s
        WHERE
        1=1
        <if test="industryId!=null and industryId!=''">
            AND
            <foreach collection="industryId" item="item" index="index" open="(" close=")" separator="OR">
                s.INDUSTRY_ID LIKE '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="svLevel!=null and svLevel!=''">
            AND
            <foreach collection="svLevel" item="item" index="index" open="(" close=")" separator="OR">
                s.SV_LEVEL LIKE '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="status!=null and status!=''">
            <choose>
                <when test='status=="0"'>
                    AND ( s.STATUS='0' OR s.STATUS='1' OR s.STATUS='2' OR s.STATUS='3')
                </when>
                <otherwise>
                    AND s.STATUS=#{status}
                </otherwise>
            </choose>
        </if>
        <if test="currentOrgLevel!=null and currentOrgLevel!=''">
            AND s.SV_LEVEL &gt;= #{currentOrgLevel}
        </if>
        <if test="svLevelId!=null and svLevelId!=''">
            AND s.SV_LEVEL_ID=#{svLevelId}
        </if>
        <if test="svName!=null and svName!=''">
            AND s.SV_NAME like '%'||#{svName}||'%'
        </if>
        <if test="svLeader!=null and svLeader!=''">
            AND s.SV_LEADER like '%'||#{svLeader}||'%'
        </if>
        <if test="areaId!=null and areaId!=''">
            AND s.SV_AREA_ID like #{areaId}||'%'
        </if>
        <if test="dateBegin!=null and dateBegin!=''">
            AND s.CREATE_TIME &gt;= to_date(#{dateBegin},'yyyy-MM-dd')
        </if>
        <if test="dateEnd!=null and dateEnd!=''">
            AND s.CREATE_TIME &lt;= to_date(#{dateEnd},'yyyy-MM-dd')+1
        </if>
    </select>
    <select id="getSubjectEnforceLawList" resultMap="subjElMap">
        SELECT * FROM (
        SELECT
        t.*, ROWNUM AS rn
        FROM
        (
        SELECT
        s.*
        FROM
        ASMS_SUBJ_ENFORCE_LAW s
        WHERE
        1=1
        <if test="status!=null and status!=''">
            <choose>
                <when test='status=="0"'>
                    AND ( s.STATUS='0' OR s.STATUS='1' OR s.STATUS='2' OR s.STATUS='3')
                </when>
                <otherwise>
                    AND s.STATUS=#{status}
                </otherwise>
            </choose>
        </if>
        <if test="currentOrgLevel!=null and currentOrgLevel!=''">
            AND s.EL_LEVEL &gt;= #{currentOrgLevel}
        </if>
        <if test="elAreaId!=null and elAreaId!=''">
            AND s.EL_AREA_ID like #{elAreaId}||'%'
        </if>
        <if test="elName!=null and elName!=''">
            AND s.EL_NAME like '%'||#{elName}||'%'
        </if>
        <if test="elLevel!=null and elLevel!=''">
            AND s.EL_LEVEL &gt;= #{elLevel}
        </if>
        <if test="dateBegin!=null and dateBegin!=''">
            AND s.CREATE_TIME &gt;= to_date(#{dateBegin},'yyyy-MM-dd')
        </if>
        <if test="dateEnd!=null and dateEnd!=''">
            AND s.CREATE_TIME &lt;= to_date(#{dateEnd},'yyyy-MM-dd')+1
        </if>
        <if test="elUnitNature!=null and elUnitNature!=''">
            AND s.EL_UNIT_NATURE like #{elUnitNature}||'%'
        </if>
        <if test="elWorkBody!=null and elWorkBody!=''">
            AND s.EL_WORK_BODY like #{elWorkBody}||'%'
        </if>
        <if test="elLeader!=null and elLeader!=''">
            AND s.EL_LEADER like #{elLeader}||'%'
        </if>
        ORDER BY  s.EL_LEVEL ASC,s.CREATE_TIME DESC
        ) t
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSubjectEnforceLawCount" resultType="long" >
        SELECT
        COUNT(*)
        FROM
        ASMS_SUBJ_ENFORCE_LAW s
        WHERE
        1=1
        <if test="status!=null and status!=''">
            <choose>
                <when test='status=="0"'>
                    AND ( s.STATUS='0' OR s.STATUS='1' OR s.STATUS='2' OR s.STATUS='3')
                </when>
                <otherwise>
                    AND s.STATUS=#{status}
                </otherwise>
            </choose>
        </if>
        <if test="currentOrgLevel!=null and currentOrgLevel!=''">
            AND s.EL_LEVEL &gt;= #{currentOrgLevel}
        </if>
        <if test="elAreaId!=null and elAreaId!=''">
            AND s.EL_AREA_ID like #{elAreaId}||'%'
        </if>
        <if test="elName!=null and elName!=''">
            AND s.EL_NAME like '%'||#{elName}||'%'
        </if>
        <if test="elLevel!=null and elLevel!=''">
            AND s.EL_LEVEL &gt;= #{elLevel}
        </if>
        <if test="dateBegin!=null and dateBegin!=''">
            AND s.CREATE_TIME &gt;= to_date(#{dateBegin},'yyyy-MM-dd')
        </if>
        <if test="dateEnd!=null and dateEnd!=''">
            AND s.CREATE_TIME &lt;= to_date(#{dateEnd},'yyyy-MM-dd')+1
        </if>
        <if test="elUnitNature!=null and elUnitNature!=''">
            AND s.EL_UNIT_NATURE like #{elUnitNature}||'%'
        </if>
        <if test="elWorkBody!=null and elWorkBody!=''">
            AND s.EL_WORK_BODY like #{elWorkBody}||'%'
        </if>
        <if test="elLeader!=null and elLeader!=''">
            AND s.EL_LEADER like #{elLeader}||'%'
        </if>
    </select>
    <select id="getSubjDetectionList" resultMap="subjDtMap">
        SELECT * FROM (
        SELECT
        a.*, ROWNUM AS rn
        FROM
        (
        SELECT
        *
        FROM
        ASMS_SUBJ_DETECTION s
        WHERE
        1=1
        <if test="status!=null and status!=''">
            <choose>
                <when test='status=="0"'>
                    AND ( s.STATUS='0' OR s.STATUS='1' OR s.STATUS='2' OR s.STATUS='3')
                </when>
                <otherwise>
                    AND s.STATUS=#{status}
                </otherwise>
            </choose>
        </if>
        <if test="currentOrgLevel!=null and currentOrgLevel!=''">
            AND s.DT_LEVEL &gt;= #{currentOrgLevel}
        </if>
        <if test="areaId!=null and areaId!=''">
            AND s.DT_AREA_ID LIKE #{areaId}||'%'
        </if>
        <if test="dtName!=null and dtName!=''">
            AND s.DT_NAME LIKE '%'||#{dtName}||'%'
        </if>
        <if test="dtLevel!=null and dtLevel!=''">
            AND s.DT_LEVEL &gt;= #{dtLevel}
        </if>
        <if test="dateBegin!=null and dateBegin!=''">
            AND s.CREATE_TIME &gt;= to_date(#{dateBegin},'yyyy-MM-dd')
        </if>
        <if test="dateEnd!=null and dateEnd!=''">
            AND s.CREATE_TIME &lt;= to_date(#{dateEnd},'yyyy-MM-dd')+1
        </if>
        <if test="dtNatureId!=null and dtNatureId!=''">
            AND
            <foreach collection="dtNatureId" item="item" index="index" open="(" close=")" separator="OR">
                s.DT_NATURE_ID LIKE '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="dtQualificationsId!=null and dtQualificationsId!=''">
            AND
            <foreach collection="dtQualificationsId" item="item" index="index" open="(" close=")" separator="OR">
                s.DT_QUALIFICATIONS_ID LIKE '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="dtLeader!=null and dtLeader!=''">
            AND s.DT_LEADER = #{dtLeader}
        </if>
        ORDER BY s.DT_LEVEL ASC,s.CREATE_TIME DESC
        )a
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSubjDetectionCount" resultType="long" >
        SELECT
        COUNT(*)
        FROM
        ASMS_SUBJ_DETECTION s
        WHERE
        1=1
        <if test="status!=null and status!=''">
            <choose>
                <when test='status=="0"'>
                    AND ( s.STATUS='0' OR s.STATUS='1' OR s.STATUS='2' OR s.STATUS='3')
                </when>
                <otherwise>
                    AND s.STATUS=#{status}
                </otherwise>
            </choose>
        </if>
        <if test="currentOrgLevel!=null and currentOrgLevel!=''">
            AND s.DT_LEVEL &gt;= #{currentOrgLevel}
        </if>
        <if test="areaId!=null and areaId!=''">
            AND s.DT_AREA_ID LIKE #{areaId}||'%'
        </if>
        <if test="dtName!=null and dtName!=''">
            AND s.DT_NAME LIKE '%'||#{dtName}||'%'
        </if>
        <if test="dtLevel!=null and dtLevel!=''">
            AND s.DT_LEVEL &gt;= #{dtLevel}
        </if>
        <if test="dateBegin!=null and dateBegin!=''">
            AND s.CREATE_TIME &gt;= to_date(#{dateBegin},'yyyy-MM-dd')
        </if>
        <if test="dateEnd!=null and dateEnd!=''">
            AND s.CREATE_TIME &lt;= to_date(#{dateEnd},'yyyy-MM-dd')+1
        </if>
        <if test="dtNatureId!=null and dtNatureId!=''">
            AND
            <foreach collection="dtNatureId" item="item" index="index" open="(" close=")" separator="OR">
                s.DT_NATURE_ID LIKE '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="dtQualificationsId!=null and dtQualificationsId!=''">
            AND
            <foreach collection="dtQualificationsId" item="item" index="index" open="(" close=")" separator="OR">
                s.DT_QUALIFICATIONS_ID LIKE '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="dtLeader!=null and dtLeader!=''">
            AND s.DT_LEADER = #{dtLeader}
        </if>
    </select>

    <select id="getSubjEntListNew" parameterType="map" resultMap="BaseResultMapNew">
        SELECT * FROM (
        SELECT
        t.*, ROWNUM AS rn
        FROM
        (
        SELECT
        d.*
        FROM
        (
        SELECT
        NVL (b.COU, 0) AS badRecord,a.*,u.id as USER_ID,u.account as USER_ACCOUNT
        FROM
        TTS_SCLTXXCJ_REGISTER_V2 a left join SYS_USER u ON a.ACCOUNT = u.ACCOUNT  and u.DEL_FLAG='N'
        LEFT JOIN (
        SELECT
        COUNT (*) AS cou,
        c.ENTERPRISE_ID AS ENTERPRISE_ID
        FROM
        ASMS_SUBJ_ENT_BADRECORD c
        GROUP BY
        c.ENTERPRISE_ID
        ) b ON a.ID = b.ENTERPRISE_ID
        ) d

        where 1 = 1 AND d.DEL_FLAG != 'Y'
        <if test='badRecord != null and ""!=badRecord and badRecord=="1"'>
            and d.BADRECORD >0
        </if>
        <if test='badRecord != null and ""!=badRecord and badRecord=="0"'>
            and d.BADRECORD =0
        </if>
        <if test="enterpriseName != null and ''!=enterpriseName">and d.ENTERPRISE_NAME like '%'||#{enterpriseName}||'%'
        </if>
        <!--<if test="entityIndustry != null and ''!=entityIndustry">and d.ENTITY_INDUSTRY like '%'||#{entityIndustry}||'%'-->
        <!--</if>-->
        <if test="entityIndustry!=null and entityIndustry.length>0">
            and
            <foreach collection="entityIndustry" item="item" index="index" open="(" close=")" separator="or">
                d.ENTITY_INDUSTRY like '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="entityType!=null and entityType.length>0">
            and
            <foreach collection="entityType" item="item" index="index" open="(" close=")" separator="or">
                d.ENTITY_TYPE=#{item}
            </foreach>
        </if>
        <if test="entityScale!=null and entityScale.length>0">
            and
            <foreach collection="entityScale" item="item" index="index" open="(" close=")" separator="or">
                d.ENTITY_SCALE=#{item}
            </foreach>
        </if>
        <!--<if test="enterpriseName != null">and ENTERPRISE_NAME like CONCAT('%','${enterpriseName}','%')</if>-->
        <!--<if test="entityIndustry != null">and ENTITY_INDUSTRY like CONCAT('%','${entityIndustry}','%')</if>-->
        <!--<if test="entityType != null and ''!=entityType">and d.ENTITY_TYPE=#{entityType}</if>-->
        <if test="entityIdcode != null and ''!=entityIdcode">and d.ENTITY_IDCODE=#{entityIdcode}</if>
        <!--<if test="entityScale != null and ''!=entityScale">and d.ENTITY_SCALE=#{entityScale}</if>-->
        <if test="area != null and ''!=area">and d.AREA like CONCAT('${area}','%')</if>
        <if test="approveStatus != null and ''!=approveStatus and approveStatus.length>0">
            and
            <foreach collection="approveStatus" item="item" index="index" open="(" close=")" separator="or">
                d.APPROVE_STATUS=#{item}
            </foreach>
        </if>
        <!-- <if test="approveStatus != null and ''!=approveStatus">and d.APPROVE_STATUS=#{approveStatus}</if>-->
        <if test="dateBegin != null and ''!=dateBegin">and to_date(#{dateBegin},'yyyy-MM-dd') &lt; d.REGISTER_TIME</if>
        <if test="dateEnd != null and ''!=dateEnd">and to_date(#{dateEnd},'yyyy-MM-dd') &gt; d.REGISTER_TIME</if>
        <if test="legalName!=null and ''!=legalName">
            and
            d.LEGAL_NAME like  '%'||#{legalName}||'%'
        </if>
        <if test="entityProperty!=null and entityProperty.length>0">
            and
            <foreach collection="entityProperty" item="item" index="index" open="(" close=")" separator="or">
                d.ENTITY_PROPERTY=#{item}
            </foreach>
        </if>
        ORDER BY d.CREATE_TIME DESC
        ) t
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSubjEntTotal" parameterType="map" resultType="long">
        SELECT
        count(*)
        FROM
        (
        SELECT
        NVL (b.COU, 0) AS badRecord,a.*
        FROM
        TTS_SCLTXXCJ_REGISTER_V2 a
        LEFT JOIN (
        SELECT
        COUNT (*) AS cou,
        c.ENTERPRISE_ID AS ENTERPRISE_ID
        FROM
        ASMS_SUBJ_ENT_BADRECORD c
        GROUP BY
        c.ENTERPRISE_ID
        ) b ON a.ID = b.ENTERPRISE_ID
        ) d

        where 1 = 1 AND d.DEL_FLAG != 'Y'
        <if test='badRecord != null and ""!=badRecord and badRecord=="1"'>
            and d.BADRECORD >0
        </if>
        <if test='badRecord != null and ""!=badRecord and badRecord=="0"'>
            and d.BADRECORD =0
        </if>
        <if test="enterpriseName != null and ''!=enterpriseName">and d.ENTERPRISE_NAME like '%'||#{enterpriseName}||'%'
        </if>
        <!--<if test="entityIndustry != null and ''!=entityIndustry">and d.ENTITY_INDUSTRY like '%'||#{entityIndustry}||'%'-->
        <!--</if>-->
        <if test="entityIndustry!=null and entityIndustry.length>0">
            and
            <foreach collection="entityIndustry" item="item" index="index" open="(" close=")" separator="or">
                d.ENTITY_INDUSTRY like '%'||#{item}||'%'
            </foreach>
        </if>
        <if test="entityType!=null and entityType.length>0">
            and
            <foreach collection="entityType" item="item" index="index" open="(" close=")" separator="or">
                d.ENTITY_TYPE=#{item}
            </foreach>
        </if>
        <if test="entityScale!=null and entityScale.length>0">
            and
            <foreach collection="entityScale" item="item" index="index" open="(" close=")" separator="or">
                d.ENTITY_SCALE=#{item}
            </foreach>
        </if>
        <!--<if test="enterpriseName != null">and ENTERPRISE_NAME like CONCAT('%','${enterpriseName}','%')</if>-->
        <!--<if test="entityIndustry != null">and ENTITY_INDUSTRY like CONCAT('%','${entityIndustry}','%')</if>-->
        <!--<if test="entityType != null and ''!=entityType">and d.ENTITY_TYPE=#{entityType}</if>-->
        <if test="entityIdcode != null and ''!=entityIdcode">and d.ENTITY_IDCODE=#{entityIdcode}</if>
        <!--<if test="entityScale != null and ''!=entityScale">and d.ENTITY_SCALE=#{entityScale}</if>-->
        <if test="area != null and ''!=area">and d.AREA like CONCAT('${area}','%')</if>
        <if test="approveStatus != null and ''!=approveStatus and approveStatus.length>0">
            and
            <foreach collection="approveStatus" item="item" index="index" open="(" close=")" separator="or">
                d.APPROVE_STATUS=#{item}
            </foreach>
        </if>
        <!-- <if test="approveStatus != null and ''!=approveStatus">and d.APPROVE_STATUS=#{approveStatus}</if>-->
        <if test="beginDate != null and ''!=beginDate">and to_date(#{beginDate},'yyyy-MM-dd') &lt; d.REGISTER_TIME</if>
        <if test="endDate != null and ''!=endDate">and to_date(#{endDate},'yyyy-MM-dd') &gt; d.REGISTER_TIME</if>
        <if test="legalName!=null and ''!=legalName">
            and
            d.LEGAL_NAME like  '%'||#{legalName}||'%'
        </if>
        <if test="entityProperty!=null and entityProperty.length>0">
            and
            <foreach collection="entityProperty" item="item" index="index" open="(" close=")" separator="or">
                d.ENTITY_PROPERTY=#{item}
            </foreach>
        </if>
    </select>

    <select id="getPageInfo" parameterType="hashmap" resultType="map">
        SELECT Tab.*
        FROM (
        SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.ID DESC) AS NUM from TTS_SCLTXXCJ_CHANGERECORD_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y' and T.APPROVE_STATUS='1'
        <if test="entityId != null and ''!=entityId">
            and T.ENTITY_ID=#{entityId}
        </if>
        )Tab
        WHERE Tab.NUM BETWEEN 1+#{pageSize}*(#{pageNum}-1) AND #{pageSize}*#{pageNum}
    </select>

    <select id="getCount" parameterType="hashmap" resultType="long">
        SELECT COUNT(*) FROM TTS_SCLTXXCJ_CHANGERECORD_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y' and T.APPROVE_STATUS='1'
        <if test="entityId != null and ''!=entityId">
            and T.ENTITY_ID=#{entityId}
        </if>
    </select>

    <select id="findSubjEntBadrecodeById" resultMap="badRecordMap">
        SELECT * FROM (
        SELECT t.*,ROWNUM AS rn FROM(
        SELECT s.* FROM
        ASMS_SUBJ_ENT_BADRECORD s
        WHERE
        s.ENTERPRISE_ID=#{enterpriseId}
        AND s.DEL_FLAG='N'
        ORDER BY s.CREATE_TIME DESC
        ) t
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>

    <select id="getSubjEntBadrecordByIdCount" resultType="long">
        SELECT COUNT(*) FROM ASMS_SUBJ_ENT_BADRECORD s
        WHERE s.ENTERPRISE_ID=#{enterpriseId}
    </select>

    <select id="findSubjSuperviseById" parameterType="java.lang.String" resultMap="subjSvMap">
        SELECT * FROM ASMS_SUBJ_SUPERVISE a
        WHERE a.ID=#{id,jdbcType=VARCHAR}
    </select>
    <select id="findSubjEnforceLawById" parameterType="java.lang.String" resultMap="subjElMap">
        SELECT * FROM ASMS_SUBJ_ENFORCE_LAW a
        WHERE a.ID=#{id,jdbcType=VARCHAR}
    </select>
    <select id="findSubjDetectionById" parameterType="java.lang.String" resultMap="subjDtMap">
        SELECT * FROM ASMS_SUBJ_DETECTION a
        WHERE a.ID=#{id,jdbcType=VARCHAR}
    </select>
    <select id="findSubjEntTempById" parameterType="string" resultMap="EntTempMap">
        SELECT * FROM ASMS_SUBJ_ENT_TEMP T
        WHERE T.ID=#{id,jdbcType=VARCHAR}
    </select>
    <select id="findSubjEntById" resultMap="BaseResultMapNew" parameterType="java.lang.String" >
        select ID
        , ENTITY_SCALE_NAME
        , ENTITY_TYPE_NAME
        , ENTITY_PROPERTY_NAME
        , ENTITY_INDUSTRY_NAME
        , UNIT_NAME
        , LATITUDE
        , LEGAL_NAME
        , LEGAL_IDNUMBER
        , LEGAL_PHONE
        , LEGAL_IMAGES
        , FAX_NUMBER
        , CONTACT_NAME
        , CONTACT_PHONE
        , CONTACT_EMAIL
        , REGISTER_TIME
        , APPROVE_STATUS
        , APPROVE_OPINION
        , APPROVE_USER_IDCODE
        , APPROVE_NAME
        , APPROVE_TIME
        , USER_IDCODE
        , ENTITY_IDCODE
        , ACCOUNT
        , REAL_NAME
        , IDCODE
        , ENTITY_SCALE
        , ENTITY_TYPE
        , ENTITY_PROPERTY
        , ENTITY_INDUSTRY
        , ENTERPRISE_NAME
        , CARD_TYPE
        , CREDIT_CODE
        , BUSINESS_OPERATION
        , BUSINESS_OPERATION_START
        , BUSINESS_OPERATION_END
        , ENTERPRISE_INDUSTRY
        , ANNUAL_OUTPUT
        , UNIT
        , ADDRESS
        , DOCUMENT_IMAGES
        , AREA
        , LONGITUDE
        , DEL_FLAG
        , CREATE_BY
        , UPDATE_BY
        , CREATE_TIME
        , UPDATE_TIME
        , BUSINESS_LICENCEIMG
        , ORGANIZATION_CERTIFICATEIMG
        , POSITIVE_IDCARDEIMG
        , NEGATIVE_IDCARDIMG
        , HAND_IDCARDIMG
        , ORGANIZATION_CODE
        , IS_LONG
        from TTS_SCLTXXCJ_REGISTER_V2
        where ID =#{id,jdbcType=VARCHAR}
    </select>

    <select id="findSubjEntByEntityIdCode" resultMap="BaseResultMapNew" parameterType="map">
        select
        ID
        , ENTITY_SCALE_NAME
        , ENTITY_TYPE_NAME
        , ENTITY_PROPERTY_NAME
        , ENTITY_INDUSTRY_NAME
        , UNIT_NAME
        , LATITUDE
        , LEGAL_NAME
        , LEGAL_IDNUMBER
        , LEGAL_PHONE
        , LEGAL_IMAGES
        , FAX_NUMBER
        , CONTACT_NAME
        , CONTACT_PHONE
        , CONTACT_EMAIL
        , REGISTER_TIME
        , APPROVE_STATUS
        , APPROVE_OPINION
        , APPROVE_USER_IDCODE
        , APPROVE_NAME
        , APPROVE_TIME
        , USER_IDCODE
        , ENTITY_IDCODE
        , ACCOUNT
        , REAL_NAME
        , IDCODE
        , ENTITY_SCALE
        , ENTITY_TYPE
        , ENTITY_PROPERTY
        , ENTITY_INDUSTRY
        , ENTERPRISE_NAME
        , CARD_TYPE
        , CREDIT_CODE
        , BUSINESS_OPERATION
        , BUSINESS_OPERATION_START
        , BUSINESS_OPERATION_END
        , ENTERPRISE_INDUSTRY
        , ANNUAL_OUTPUT
        , UNIT
        , ADDRESS
        , DOCUMENT_IMAGES
        , AREA
        , LONGITUDE
        , DEL_FLAG
        , CREATE_BY
        , UPDATE_BY
        , CREATE_TIME
        , UPDATE_TIME
        , BUSINESS_LICENCEIMG
        , ORGANIZATION_CERTIFICATEIMG
        , POSITIVE_IDCARDEIMG
        , NEGATIVE_IDCARDIMG
        , HAND_IDCARDIMG
        , ORGANIZATION_CODE
        , IS_LONG
        from TTS_SCLTXXCJ_REGISTER_V2
        where ENTITY_IDCODE =#{entityIdCode,jdbcType=VARCHAR} AND DEL_FLAG != 'Y'
    </select>

    <select id="getChangeListBySvId" resultType="map">
        SELECT * FROM(
        SELECT
        a.*,ROWNUM AS rn
        FROM
        (
        SELECT
        *
        FROM
        ASMS_SUBJ_SV_CHANGE t
        WHERE
        t.DEL_FLAG='N'
        <if test="svId!=null and svId!=''">
            AND t.APPLY_SV_ID = #{svId}
        </if>
        ORDER BY t.APPLY_TIME DESC
        )a
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getChangeCountBySvId" resultType="long" >
        SELECT
        COUNT(*)
        FROM
        ASMS_SUBJ_SV_CHANGE t
        WHERE
        t.DEL_FLAG='N'
        <if test="svId!=null and svId!=''">
            AND t.APPLY_SV_ID = #{svId}
        </if>
    </select>

    <select id="getChangeListByElId" resultType="map">
        SELECT * FROM(
        SELECT f.*, ROWNUM AS rn
        FROM (
        SELECT
        s.*
        FROM ASMS_SUBJ_EL_CHANGE s
        WHERE
        s.DEL_FLAG='N'
        <if test="elId!=null and elId!=''">
            AND s.APPLY_EL_ID =#{elId}
        </if>
        <if test="areaId!=null and areaId!=''">
            AND t.EL_AREA_ID like #{areaId}||'%'
        </if>
        order by s.APPLY_TIME DESC
        ) f
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getChangeCountByElId" resultType="long">
        SELECT COUNT(*) FROM ASMS_SUBJ_EL_CHANGE s
        WHERE
        s.DEL_FLAG='N'
        <if test="elId!=null and elId!=''">
            AND s.APPLY_EL_ID =#{elId}
        </if>
    </select>

    <select id="getChangeListByDtId" resultType="map">
        SELECT * FROM(
        SELECT
        a.*,ROWNUM AS rn
        FROM
        (
        SELECT
        *
        FROM
        ASMS_SUBJ_DT_CHANGE s
        WHERE
        s.DEL_FLAG='N'
        <if test="dtId!=null and dtId!=''">
            AND s.APPLY_DT_ID = #{dtId}
        </if>
        ORDER BY s.APPLY_TIME DESC
        )a
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getChangeCountByDtId" resultType="long" >
        SELECT
        COUNT(*)
        FROM
        ASMS_SUBJ_DT_CHANGE s
        WHERE
        s.DEL_FLAG='N'
        <if test="dtId!=null and dtId!=''">
            AND s.APPLY_DT_ID = #{dtId}
        </if>
    </select>

    <select id="findSubjSvChangeById" parameterType="string" resultMap="subjSvChangeMap">
        SELECT * FROM ASMS_SUBJ_SV_CHANGE
        WHERE ID=#{id,jdbcType=VARCHAR}
    </select>

    <select id="findSubjElChangeById" parameterType="string" resultMap="subjElChangeMap">
        SELECT * FROM ASMS_SUBJ_EL_CHANGE
        WHERE ID=#{id,jdbcType=VARCHAR}
    </select>

    <select id="findSubjDtSvChangeById" parameterType="string" resultMap="subjDtChangeMap">
        SELECT * FROM ASMS_SUBJ_DT_CHANGE
        WHERE ID=#{id,jdbcType=VARCHAR}
    </select>

    <select id="getProductListByEntityIdcode" resultType="map" parameterType="hashmap">
        SELECT * FROM(
        SELECT
            Tab.*,ROWNUM AS rn
        FROM
            (
        SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.CREATE_TIME DESC) AS NUM from TTS_SCLTXXCJ_PRODUCT_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y' AND T.ENTITY_IDCODE = #{entityIdcode} ORDER BY T.CREATE_TIME DESC
        )Tab
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>

    <select id="getProductCountByEntityIdcode" resultType="long" parameterType="hashmap">
        SELECT count(*) from TTS_SCLTXXCJ_PRODUCT_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y' AND T.ENTITY_IDCODE = #{entityIdcode}
    </select>
    <select id="getSubjEntBaseByEntityIdcode"  resultType="map" parameterType="hashmap">
        SELECT * FROM(
            SELECT
                Tab.*,ROWNUM AS rn
            FROM
                (SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.CREATE_TIME DESC) AS NUM from T_SCLTXXCJ_BASE_V2 T
                where 1 = 1 AND T.DEL_FLAG != 'Y' AND T.ENTITY_IDCODE = #{entityIdcode}  ORDER BY T.CREATE_TIME DESC )Tab
            WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSubjEntBaseCountByEntityIdcode" resultType="long" parameterType="hashmap">
        SELECT count(*) from T_SCLTXXCJ_BASE_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y' AND T.ENTITY_IDCODE = #{entityIdcode}
    </select>
    <select id="getBathByEntityIdcode" resultType="map" parameterType="hashmap">
        SELECT * FROM(
            SELECT
                Tab.*,ROWNUM AS rn
            FROM
                (
        SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.CREATE_TIME DESC) AS NUM from TTS_SCLTXXCJ_SCGL_V2 T
        where 1 = 1 AND T.ENTITY_IDCODE = #{entityIdcode} AND T.DEL_FLAG != 'Y'
        <if test="noBillStratrus != null and noBillStratrus != ''">
            and T.BILL_STRATRUS != #{noBillStratrus}
        </if>
        ORDER BY T.CREATE_TIME DESC )Tab
            WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getBathCountByEntityIdcode" resultType="long" parameterType="hashmap">
        SELECT count(*) from TTS_SCLTXXCJ_SCGL_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y' AND T.ENTITY_IDCODE = #{entityIdcode}
        <if test="noBillStratrus != null and noBillStratrus != ''">
            and T.BILL_STRATRUS != #{noBillStratrus}
        </if>
    </select>
    <select id="getHcBathById" resultType="map" parameterType="hashmap">
        SELECT * FROM(
        SELECT
        Tab.*,ROWNUM AS rn
        FROM
        (
        SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.ID DESC) AS NUM from TTS_SCLTXXCJ_CPPCHC_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y'
        <if test="hcid != null and hcid != ''">
            and T.HCID = #{hcid}
        </if>
        ORDER BY T.CREATE_TIME DESC )Tab
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getHcCountBathById" resultType="long" parameterType="hashmap">
        SELECT count(*) from TTS_SCLTXXCJ_CPPCHC_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y'
        <if test="hcid != null and hcid != ''">
            and T.HCID = #{hcid}
        </if>
    </select>
    <select id="getSaleByEntityIdcode" resultType="map" parameterType="hashmap">
        SELECT * FROM(
        SELECT
        Tab.*,ROWNUM AS rn
        FROM
        (
        SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.SALE_TIME DESC) AS NUM from TTS_SCLTXXCJ_XSDJ_V2 T
        where 1 = 1
        <if test="entityIdcode != null and entityIdcode != ''">
            and T.ENTITY_IDCODE = #{entityIdcode}
        </if>
        )Tab
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSaleCountByEntityIdcode" resultType="long" parameterType="hashmap">
        SELECT COUNT(*) FROM TTS_SCLTXXCJ_XSDJ_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y'
        <if test="entityIdcode != null and entityIdcode != ''">
            and T.ENTITY_IDCODE = #{entityIdcode}
        </if>
    </select>
    <select id="getXsdjAndCustomerById" resultMap="XsdjAndCustomer" parameterType="java.lang.String">
        SELECT X.*,C.USER_NAME,C.NAME,C.ADDRESS,C.PHONE
        FROM TTS_SCLTXXCJ_XSDJ_V2 X
        INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C ON C.ID = X.BUY_COM_USER_ID
        WHERE X.ID =#{id,jdbcType=VARCHAR}
    </select>
    <select id="queryByXsjlId" parameterType="string" resultMap="TtsScltxxcjXsthAndCustomer">
        SELECT
        X.PRODUCT_NAME,
        X.SALE_TIME,
        X.SALE_AMOUNT,
        X.PRODUCT_SORT,
        X.PRODUCT_XSPC,
        X.XSTHYY,
        X.CUSTOMER_ENTITY_IDCODE,
        X.CUSTOMER_USER_IDCODE,
        C.USER_NAME,
        C.NAME,
        C.ADDRESS,
        C.PHONE
        FROM
        TTS_SCLTXXCJ_XSTH_V2 X
        INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C ON C.CUSTOMER_ENTITY_ID_CODE = X.CUSTOMER_ENTITY_IDCODE AND C.USER_ID_CODE = X.USER_IDCODE
        WHERE 1=1
        AND X.XSJLID = #{id}
        AND X.DEL_FLAG != 'Y'
    </select>
    <select id="getSubjCgglListByEntityIdcode" resultMap="XsdjAndCustomer" parameterType="hashmap">
        SELECT * FROM(
        SELECT
        Tab.*,ROWNUM AS rn
        FROM
        (
        SELECT X.*,C2.ENTERPRISE_NAME AS XSNAME,C1.NAME,C1.USER_NAME,
        C1.PHONE,C1.ADDRESS,ROW_NUMBER() OVER(ORDER BY X.SALE_TIME DESC) AS NUM
        FROM TTS_SCLTXXCJ_XSDJ_V2 X
        INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C1 ON TRIM(X.BUY_COM_USER_ID) = TRIM(C1.ID)
        INNER JOIN TTS_SCLTXXCJ_REGISTER_V2 C2 ON TRIM(X.SALE_USER) = TRIM(C2.ID)
        WHERE X.DEL_FLAG = 'N'
        <if test="confirmState != null and confirmState != ''">
            and X.CONFIRM_STATE = #{confirmState}
        </if>
        <if test="isCirculatesEnd != null and isCirculatesEnd != ''">
            and X.IS_CIRCULATES_END = #{isCirculatesEnd}
        </if>
        <if test="tozsm != null and tozsm != ''">
            and X.TOZSM = #{tozsm}
        </if>
        <if test="fromzsm != null and fromzsm != ''">
            and X.FROMZSM = #{fromzsm}
        </if>
        <if test="entityIdcode != null and entityIdcode != ''">
            and X.CUSTOMER_ENTITY_IDCODE = #{entityIdcode}
        </if>
        <if test="productName != null and productName != ''">
            and X.PRODUCT_NAME LIKE '%${productName}%'
        </if>
        <if test="shrq_q != null and shrq_q != ''">
            and to_char(X.SALE_TIME,'yyyy-MM-dd') &gt;= #{shrq_q}
        </if>
        <if test="shrq_h != null and shrq_h != ''">
            and to_char(X.SALE_TIME,'yyyy-MM-dd') &lt;= #{shrq_h}
        </if>
        )Tab
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSubjCgglCountListByEntityIdcode" parameterType="hashmap" resultType="long">
        SELECT COUNT(*) FROM TTS_SCLTXXCJ_XSDJ_V2 X
        INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C1 ON TRIM(X.BUY_COM_USER_ID) = TRIM(C1.ID)
        INNER JOIN TTS_SCLTXXCJ_REGISTER_V2 C2 ON TRIM(X.SALE_USER) = TRIM(C2.ID)
        WHERE X.DEL_FLAG = 'N'
        <if test="confirmState != null and confirmState != ''">
            and X.CONFIRM_STATE = #{confirmState}
        </if>
        <if test="isCirculatesEnd != null and isCirculatesEnd != ''">
            and X.IS_CIRCULATES_END = #{isCirculatesEnd}
        </if>
        <if test="tozsm != null and tozsm != ''">
            and X.TOZSM = #{tozsm}
        </if>
        <if test="fromzsm != null and fromzsm != ''">
            and X.FROMZSM = #{fromzsm}
        </if>
        <if test="entityIdcode != null and entityIdcode != ''">
            and X.CUSTOMER_ENTITY_IDCODE = #{entityIdcode}
        </if>
        <if test="productName != null and productName != ''">
            and X.PRODUCT_NAME LIKE '%${productName}%'
        </if>
        <if test="shrq_q != null and shrq_q != ''">
            and to_char(X.SALE_TIME,'yyyy-MM-dd') &gt;= #{shrq_q}
        </if>
        <if test="shrq_h != null and shrq_h != ''">
            and to_char(X.SALE_TIME,'yyyy-MM-dd') &lt;= #{shrq_h}
        </if>
    </select>
    <select id="getSalePrintListByEntityIdcode" resultType="map" parameterType="hashmap">
        SELECT * FROM(
        SELECT
        Tab.*,ROWNUM AS rn
        FROM
        (
        SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.CREATE_TIME DESC) AS NUM from TTS_SCLTXXCJ_XSDJJL_V2 T
        where 1 = 1
        <if test="entityIdcode != null and entityIdcode != ''">
            AND T.ENTITY_IDCODE = #{entityIdcode}
        </if>
        <if test="shrq_q != null and shrq_q != ''">
            and to_char(T.SALE_TIME,'yyyy-MM-dd') &gt;= #{shrq_q}
        </if>
        <if test="shrq_h != null and shrq_h != ''">
            and to_char(T.SALE_TIME,'yyyy-MM-dd') &lt;= #{shrq_h}
        </if>
        <if test="keyWord != null and keyWord != ''">
            and (T.PRODUCT_NAME LIKE '%${keyWord}%' OR T.PRODUCT_SORT LIKE '%${keyWord}%')
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
        <if test="confirmState != null and confirmState != ''">
            and T.CONFIRM_STATE = #{confirmState}
        </if>
        <if test="isCirculates != null and isCirculates != ''">
            and T.IS_CIRCULATES_END = #{isCirculates}
        </if>
        )Tab
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSalePrintCountByEntityIdcode" resultType="long" parameterType="hashmap">
        SELECT COUNT(*) FROM TTS_SCLTXXCJ_XSDJJL_V2 T
        where 1 = 1
        <if test="entityIdcode != null and entityIdcode != ''">
            AND T.ENTITY_IDCODE = #{entityIdcode}
        </if>
        <if test="shrq_q != null and shrq_q != ''">
            and to_char(T.SALE_TIME,'yyyy-MM-dd') &gt;= #{shrq_q}
        </if>
        <if test="shrq_h != null and shrq_h != ''">
            and to_char(T.SALE_TIME,'yyyy-MM-dd') &lt;= #{shrq_h}
        </if>
        <if test="keyWord != null and keyWord != ''">
            and (T.PRODUCT_NAME LIKE '%${keyWord}%' OR T.PRODUCT_SORT LIKE '%${keyWord}%')
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
        <if test="confirmState != null and confirmState != ''">
            and T.CONFIRM_STATE = #{confirmState}
        </if>
        <if test="isCirculates != null and isCirculates != ''">
            and T.IS_CIRCULATES_END = #{isCirculates}
        </if>
    </select>
    <select id="getStockPrintListByEntityIdcode" resultType="map" parameterType="hashmap">
        SELECT * FROM(
        SELECT
        Tab.*,ROWNUM AS rn
        FROM
        (
        SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.CREATE_TIME DESC) AS NUM from TTS_SCLTXXCJ_SCGL_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y'
        <if test="zero != null and zero != ''">
            AND T.STORE_COUNT &gt;0
        </if>
        <if test="noBillStratrus != null and noBillStratrus != ''">
            and T.BILL_STRATRUS != #{noBillStratrus}
        </if>
        <if test="productSource != null and productSource != ''">
            and T.PRODUCT_SOURCE = #{productSource}
        </if>
        <if test="billStratrus != null and billStratrus != ''">
            and T.BILL_STRATRUS = #{billStratrus}
        </if>
        <if test="joinFlag != null and joinFlag != ''">
            and T.JOIN_FLAG = #{joinFlag}
        </if>
        <if test="status != null and status != ''">
            and T.status = #{status}
        </if>
        <if test="not_status != null and not_status != ''">
            and T.status != #{not_status}
        </if>
        <if test="mediResult != null and mediResult != ''">
            and T.MEDI_RESULT = #{mediResult}
        </if>
        <if test="productId != null and productId != ''">
            and T.PRODUCT_ID = #{productId}
        </if>
        <if test="productName != null and productName != ''">
            and T.PRODUCT_NAME LIKE '%${productName}%'
        </if>
        <if test="harvestUnit != null and harvestUnit != ''">
            and T.HARVEST_UNIT = #{harvestUnit}
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
        <if test="shrq_q != null and shrq_q != ''">
            and to_char(t.HARVEST_TIME,'yyyy-MM-dd') &gt;= #{shrq_q}
        </if>
        <if test="shrq_h != null and shrq_h != ''">
            and to_char(t.HARVEST_TIME,'yyyy-MM-dd') &lt;= #{shrq_h}
        </if>
        <if test="noJoinFlag != null and noJoinFlag != ''">
            and T.JOIN_FLAG != #{noJoinFlag}
        </if>
        <if test="freezeCount != null and freezeCount != ''">
            and T.FREEZE_COUNT = 0
        </if>
        <if test="entityIdcode != null and entityIdcode != ''">
            and T.ENTITY_IDCODE = #{entityIdcode}
        </if>
        <if test="keyWord != null and keyWord != ''">
            and T.PRODUCT_NAME LIKE '%${keyWord}%' OR T.PRODUCT_PC LIKE '%${keyWord}%' OR T.FROMZSM LIKE '%${keyWord}%'
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
        )Tab
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getStockPrintCountByEntityIdcode" parameterType="hashmap" resultType="long">
        SELECT COUNT(*) FROM TTS_SCLTXXCJ_SCGL_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y'
        <if test="zero != null and zero != ''">
            AND T.STORE_COUNT &gt;0
        </if>
        <if test="noBillStratrus != null and noBillStratrus != ''">
            and T.BILL_STRATRUS != #{noBillStratrus}
        </if>
        <if test="productSource != null and productSource != ''">
            and T.PRODUCT_SOURCE = #{productSource}
        </if>
        <if test="billStratrus != null and billStratrus != ''">
            and T.BILL_STRATRUS = #{billStratrus}
        </if>
        <if test="joinFlag != null and joinFlag != ''">
            and T.JOIN_FLAG = #{joinFlag}
        </if>
        <if test="status != null and status != ''">
            and T.status = #{status}
        </if>
        <if test="not_status != null and not_status != ''">
            and T.status != #{not_status}
        </if>
        <if test="mediResult != null and mediResult != ''">
            and T.MEDI_RESULT = #{mediResult}
        </if>
        <if test="productId != null and productId != ''">
            and T.PRODUCT_ID = #{productId}
        </if>
        <if test="productName != null and productName != ''">
            and T.PRODUCT_NAME = #{productName}
        </if>
        <if test="harvestUnit != null and harvestUnit != ''">
            and T.HARVEST_UNIT = #{harvestUnit}
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
        <if test="shrq_q != null and shrq_q != ''">
            and to_char(t.HARVEST_TIME,'yyyy-MM-dd') &gt;= #{shrq_q}
        </if>
        <if test="shrq_h != null and shrq_h != ''">
            and to_char(t.HARVEST_TIME,'yyyy-MM-dd') &lt;= #{shrq_h}
        </if>
        <if test="noJoinFlag != null and noJoinFlag != ''">
            and T.JOIN_FLAG != #{noJoinFlag}
        </if>
        <if test="freezeCount != null and freezeCount != ''">
            and T.FREEZE_COUNT = 0
        </if>
        <if test="entityIdcode != null and entityIdcode != ''">
            and T.ENTITY_IDCODE = #{entityIdcode}
        </if>
        <if test="keyWord != null and keyWord != ''">
            and T.PRODUCT_NAME LIKE '%${keyWord}%' OR T.PRODUCT_PC LIKE '%${keyWord}%' OR T.FROMZSM LIKE '%${keyWord}%'
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
    </select>
    <select id="getSlaughterListByEntityIdcode" resultType="map" parameterType="hashmap">
        SELECT * FROM(
        SELECT
        Tab.*,ROWNUM AS rn
        FROM
        (
        SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.CREATE_TIME DESC) AS NUM from TTS_SCLTXXCJ_SCGL_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y'
        <if test="zero != null and zero != ''">
            AND T.STORE_COUNT &gt;0
        </if>
        <if test="noBillStratrus != null and noBillStratrus != ''">
            and T.BILL_STRATRUS != #{noBillStratrus}
        </if>
        <if test="productSource != null and productSource != ''">
            and T.PRODUCT_SOURCE = #{productSource}
        </if>
        <if test="billStratrus != null and billStratrus != ''">
            and T.BILL_STRATRUS = #{billStratrus}
        </if>
        <if test="joinFlag != null and joinFlag != ''">
            and T.JOIN_FLAG = #{joinFlag}
        </if>
        <if test="status != null and status != ''">
            and T.status = #{status}
        </if>
        <if test="not_status != null and not_status != ''">
            and T.status != #{not_status}
        </if>
        <if test="mediResult != null and mediResult != ''">
            and T.MEDI_RESULT = #{mediResult}
        </if>
        <if test="productId != null and productId != ''">
            and T.PRODUCT_ID = #{productId}
        </if>
        <if test="productName != null and productName != ''">
            and T.PRODUCT_NAME LIKE '%${productName}%'
        </if>
        <if test="harvestUnit != null and harvestUnit != ''">
            and T.HARVEST_UNIT = #{harvestUnit}
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
        <if test="shrq_q != null and shrq_q != ''">
            and to_char(t.HARVEST_TIME,'yyyy-MM-dd') &gt;= #{shrq_q}
        </if>
        <if test="shrq_h != null and shrq_h != ''">
            and to_char(t.HARVEST_TIME,'yyyy-MM-dd') &lt;= #{shrq_h}
        </if>
        <if test="noJoinFlag != null and noJoinFlag != ''">
            and T.JOIN_FLAG != #{noJoinFlag}
        </if>
        <if test="freezeCount != null and freezeCount != ''">
            and T.FREEZE_COUNT = 0
        </if>
        <if test="entityIdcode != null and entityIdcode != ''">
            and T.ENTITY_IDCODE = #{entityIdcode}
        </if>
        <if test="keyWord != null and keyWord != ''">
            and T.PRODUCT_NAME LIKE '%${keyWord}%' OR T.PRODUCT_PC LIKE '%${keyWord}%' OR T.FROMZSM LIKE '%${keyWord}%'
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
        )Tab
        WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSlaughterCountByEntityIdcode" parameterType="hashmap" resultType="long">
        SELECT COUNT(*) FROM TTS_SCLTXXCJ_SCGL_V2 T
        where 1 = 1 AND T.DEL_FLAG != 'Y'
        <if test="zero != null and zero != ''">
            AND T.STORE_COUNT &gt;0
        </if>
        <if test="noBillStratrus != null and noBillStratrus != ''">
            and T.BILL_STRATRUS != #{noBillStratrus}
        </if>
        <if test="productSource != null and productSource != ''">
            and T.PRODUCT_SOURCE = #{productSource}
        </if>
        <if test="billStratrus != null and billStratrus != ''">
            and T.BILL_STRATRUS = #{billStratrus}
        </if>
        <if test="joinFlag != null and joinFlag != ''">
            and T.JOIN_FLAG = #{joinFlag}
        </if>
        <if test="status != null and status != ''">
            and T.status = #{status}
        </if>
        <if test="not_status != null and not_status != ''">
            and T.status != #{not_status}
        </if>
        <if test="mediResult != null and mediResult != ''">
            and T.MEDI_RESULT = #{mediResult}
        </if>
        <if test="productId != null and productId != ''">
            and T.PRODUCT_ID = #{productId}
        </if>
        <if test="productName != null and productName != ''">
            and T.PRODUCT_NAME = #{productName}
        </if>
        <if test="harvestUnit != null and harvestUnit != ''">
            and T.HARVEST_UNIT = #{harvestUnit}
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
        <if test="shrq_q != null and shrq_q != ''">
            and to_char(t.HARVEST_TIME,'yyyy-MM-dd') &gt;= #{shrq_q}
        </if>
        <if test="shrq_h != null and shrq_h != ''">
            and to_char(t.HARVEST_TIME,'yyyy-MM-dd') &lt;= #{shrq_h}
        </if>
        <if test="noJoinFlag != null and noJoinFlag != ''">
            and T.JOIN_FLAG != #{noJoinFlag}
        </if>
        <if test="freezeCount != null and freezeCount != ''">
            and T.FREEZE_COUNT = 0
        </if>
        <if test="entityIdcode != null and entityIdcode != ''">
            and T.ENTITY_IDCODE = #{entityIdcode}
        </if>
        <if test="keyWord != null and keyWord != ''">
            and T.PRODUCT_NAME LIKE '%${keyWord}%' OR T.PRODUCT_PC LIKE '%${keyWord}%' OR T.FROMZSM LIKE '%${keyWord}%'
        </if>
        <if test="productSort != null and productSort != ''">
            and T.PRODUCT_SORT = #{productSort}
        </if>
    </select>
    <select id="getSubjEntAndBathList" resultType="map" parameterType="hashmap">
        SELECT * FROM(
            SELECT
                Tab.*,ROWNUM AS rn
            FROM
                (
                SELECT
                *
                FROM
                (
                SELECT
                s.*,
                NVL (cou, 0) AS BATH_COUNT
                FROM
                TTS_SCLTXXCJ_REGISTER_V2 s
                LEFT JOIN (
                SELECT
                s.ENTITY_IDCODE,
                COUNT (*) cou
                FROM
                TTS_SCLTXXCJ_REGISTER_V2 r
                LEFT JOIN TTS_SCLTXXCJ_SCGL_V2 s ON r.ENTITY_IDCODE = s.ENTITY_IDCODE
                WHERE
                s.DEL_FLAG != 'Y' AND s.BILL_STRATRUS != '2'
                GROUP BY
                s.ENTITY_IDCODE
                ) T ON s.ENTITY_IDCODE = T .ENTITY_IDCODE
                WHERE
                s.DEL_FLAG != 'Y'
                <if test="enterpriseName!=null and enterpriseName!=''">
                    AND s.ENTERPRISE_NAME like '%'||#{enterpriseName}||'%'
                </if>
                <if test="area!=null and area!=''">
                    AND s.AREA like #{area}||'%'
                </if>
            ) s
            ORDER BY
            s.CREATE_TIME DESC
            )Tab
            WHERE ROWNUM &lt;= #{pageTail}
            )
            WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSubjEntAndBathCount" parameterType="hashmap" resultType="long">
        SELECT
        COUNT(*)
        FROM
            TTS_SCLTXXCJ_REGISTER_V2 s
        LEFT JOIN (
        SELECT
           s.ENTITY_IDCODE,
           COUNT (*) cou
        FROM
           TTS_SCLTXXCJ_REGISTER_V2 r
        LEFT JOIN TTS_SCLTXXCJ_SCGL_V2 s ON r.ENTITY_IDCODE = s.ENTITY_IDCODE
        WHERE
         s.DEL_FLAG != 'Y' AND s.BILL_STRATRUS != '2'
        GROUP BY
        s.ENTITY_IDCODE
        ) T ON s.ENTITY_IDCODE = T .ENTITY_IDCODE
        WHERE
        s.DEL_FLAG != 'Y'
        <if test="enterpriseName!=null and enterpriseName!=''">
            AND s.ENTERPRISE_NAME like #{enterpriseName}||'%'
        </if>
        <if test="area!=null and area!=''">
            AND s.AREA like #{area}||'%'
        </if>
    </select>
    <select id="getSubjEntAndTransactionInfoList" parameterType="hashmap" resultType="map">
        SELECT * FROM(
            SELECT
                Tab.*,ROWNUM AS rn
            FROM
                (
                    SELECT
                        *
                    FROM
                        (
            SELECT
                r.*,
                NVL (t1.cou1, 0) AS XSY_COU,
                NVL (t2.cou2, 0) XSN_COU,
                NVL (t3.cou3, 0) AS SHY_COU,
                NVL (t4.cou4, 0) AS SHN_COU
            FROM
                TTS_SCLTXXCJ_REGISTER_V2 r
                LEFT JOIN (
                              SELECT
                                  s.ENTITY_IDCODE,
                                  COUNT (*) cou1
                              FROM
                                  TTS_SCLTXXCJ_REGISTER_V2 r
                                  LEFT JOIN TTS_SCLTXXCJ_XSDJ_V2 s ON r.ENTITY_IDCODE = s.ENTITY_IDCODE
                              WHERE
                                  s.DEL_FLAG != 'Y'
                                  AND s.CONFIRM_STATE = 'Y'
                              GROUP BY
                                  s.ENTITY_IDCODE
                          ) t1 ON r.ENTITY_IDCODE = t1.ENTITY_IDCODE
                LEFT JOIN (
                              SELECT
                                  s.ENTITY_IDCODE,
                                  COUNT (*) cou2
                              FROM
                                  TTS_SCLTXXCJ_REGISTER_V2 r
                                  LEFT JOIN TTS_SCLTXXCJ_XSDJ_V2 s ON r.ENTITY_IDCODE = s.ENTITY_IDCODE
                              WHERE
                                  s.DEL_FLAG != 'Y'
                                  AND s.CONFIRM_STATE = 'N'
                              GROUP BY
                                  s.ENTITY_IDCODE
                          ) t2 ON r.ENTITY_IDCODE = t2.ENTITY_IDCODE
                LEFT JOIN (
                              SELECT
                                  s.CUSTOMER_ENTITY_IDCODE AS ENTITY_IDCODE,
                                  COUNT (*) cou3
                              FROM
                                  TTS_SCLTXXCJ_REGISTER_V2 r
                                  LEFT JOIN (
                                                SELECT
                                                    X.*, C2.ENTERPRISE_NAME AS XSNAME,
                                                    C1. NAME,
                                                    C1.USER_NAME,
                                                    C1.PHONE,
                                                    C1.ADDRESS,
                                                         ROW_NUMBER () OVER (ORDER BY X.SALE_TIME DESC) AS NUM
                                                FROM
                                                    TTS_SCLTXXCJ_XSDJ_V2 X
                                                    INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C1 ON TRIM (X.BUY_COM_USER_ID) = TRIM (C1. ID)
                                                    INNER JOIN TTS_SCLTXXCJ_REGISTER_V2 C2 ON TRIM (X.SALE_USER) = TRIM (C2. ID)
                                                WHERE
                                                    X.DEL_FLAG = 'N'
                                            ) s ON r.ENTITY_IDCODE = s.CUSTOMER_ENTITY_IDCODE
                              WHERE
                                  s.DEL_FLAG != 'Y'
                                  AND s.CONFIRM_STATE = 'Y'
                                  AND S.IS_CIRCULATES_END = 'N'
                              GROUP BY
                                  s.CUSTOMER_ENTITY_IDCODE
                          ) t3 ON r.ENTITY_IDCODE = t3.ENTITY_IDCODE
                LEFT JOIN (
                              SELECT
                                  s.CUSTOMER_ENTITY_IDCODE AS ENTITY_IDCODE,
                                  COUNT (*) cou4
                              FROM
                                  TTS_SCLTXXCJ_REGISTER_V2 r
                                  LEFT JOIN (
                                                SELECT
                                                    X.*, C2.ENTERPRISE_NAME AS XSNAME,
                                                    C1. NAME,
                                                    C1.USER_NAME,
                                                    C1.PHONE,
                                                    C1.ADDRESS,
                                                         ROW_NUMBER () OVER (ORDER BY X.SALE_TIME DESC) AS NUM
                                                FROM
                                                    TTS_SCLTXXCJ_XSDJ_V2 X
                                                    INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C1 ON TRIM (X.BUY_COM_USER_ID) = TRIM (C1. ID)
                                                    INNER JOIN TTS_SCLTXXCJ_REGISTER_V2 C2 ON TRIM (X.SALE_USER) = TRIM (C2. ID)
                                                WHERE
                                                    X.DEL_FLAG = 'N'
                                            ) s ON r.ENTITY_IDCODE = s.CUSTOMER_ENTITY_IDCODE
                              WHERE
                                  s.DEL_FLAG != 'Y'
                                  AND s.CONFIRM_STATE = 'N'
                                  AND S.IS_CIRCULATES_END = 'N'
                              GROUP BY
                                  s.CUSTOMER_ENTITY_IDCODE
                          ) t4 ON r.ENTITY_IDCODE = t4.ENTITY_IDCODE
                     ) s
                WHERE 1=1
                <if test="enterpriseName!=null and enterpriseName!=''">
                    AND s.ENTERPRISE_NAME like '%'||#{enterpriseName}||'%'
                </if>
                <if test="area!=null and area!=''">
                    AND s.AREA like #{area}||'%'
                </if>
                 ORDER BY
                     s.CREATE_TIME DESC
                         )Tab
            WHERE ROWNUM &lt;= #{pageTail}
            )
            WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getSubjEntAndTransactionInfoCount" parameterType="hashmap" resultType="long">
        SELECT
        COUNT (*)
        FROM
        TTS_SCLTXXCJ_REGISTER_V2 r
        LEFT JOIN (
        SELECT
            s.ENTITY_IDCODE,
            COUNT (*) cou1
        FROM
           TTS_SCLTXXCJ_REGISTER_V2 r
        LEFT JOIN TTS_SCLTXXCJ_XSDJ_V2 s ON r.ENTITY_IDCODE = s.ENTITY_IDCODE
        WHERE
            s.DEL_FLAG != 'Y'
            AND s.CONFIRM_STATE = 'Y'
        GROUP BY
          s.ENTITY_IDCODE
         ) t1 ON r.ENTITY_IDCODE = t1.ENTITY_IDCODE
        LEFT JOIN (
            SELECT
            s.ENTITY_IDCODE,
            COUNT (*) cou2
            FROM
            TTS_SCLTXXCJ_REGISTER_V2 r
            LEFT JOIN TTS_SCLTXXCJ_XSDJ_V2 s ON r.ENTITY_IDCODE = s.ENTITY_IDCODE
            WHERE
            s.DEL_FLAG != 'Y'
            AND s.CONFIRM_STATE = 'N'
            GROUP BY
            s.ENTITY_IDCODE
            ) t2 ON r.ENTITY_IDCODE = t2.ENTITY_IDCODE
            LEFT JOIN (
            SELECT
            s.CUSTOMER_ENTITY_IDCODE AS ENTITY_IDCODE,
            COUNT (*) cou3
            FROM
            TTS_SCLTXXCJ_REGISTER_V2 r
        LEFT JOIN (
        SELECT
            X.*, C2.ENTERPRISE_NAME AS XSNAME,
            C1. NAME,
            C1.USER_NAME,
            C1.PHONE,
            C1.ADDRESS,
            ROW_NUMBER () OVER (ORDER BY X.SALE_TIME DESC) AS NUM
        FROM
         TTS_SCLTXXCJ_XSDJ_V2 X
        INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C1 ON TRIM (X.BUY_COM_USER_ID) = TRIM (C1. ID)
        INNER JOIN TTS_SCLTXXCJ_REGISTER_V2 C2 ON TRIM (X.SALE_USER) = TRIM (C2. ID)
        WHERE
        X.DEL_FLAG = 'N'
        ) s ON r.ENTITY_IDCODE = s.CUSTOMER_ENTITY_IDCODE
        WHERE
        s.DEL_FLAG != 'Y'
        AND s.CONFIRM_STATE = 'Y'
        AND S.IS_CIRCULATES_END = 'N'
        GROUP BY
        s.CUSTOMER_ENTITY_IDCODE
        ) t3 ON r.ENTITY_IDCODE = t3.ENTITY_IDCODE
        LEFT JOIN (
        SELECT
        s.CUSTOMER_ENTITY_IDCODE AS ENTITY_IDCODE,
        COUNT (*) cou4
        FROM
        TTS_SCLTXXCJ_REGISTER_V2 r
        LEFT JOIN (
        SELECT
        X.*, C2.ENTERPRISE_NAME AS XSNAME,
        C1. NAME,
        C1.USER_NAME,
        C1.PHONE,
        C1.ADDRESS,
        ROW_NUMBER () OVER (ORDER BY X.SALE_TIME DESC) AS NUM
        FROM
        TTS_SCLTXXCJ_XSDJ_V2 X
        INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C1 ON TRIM (X.BUY_COM_USER_ID) = TRIM (C1. ID)
        INNER JOIN TTS_SCLTXXCJ_REGISTER_V2 C2 ON TRIM (X.SALE_USER) = TRIM (C2. ID)
        WHERE
        X.DEL_FLAG = 'N'
        ) s ON r.ENTITY_IDCODE = s.CUSTOMER_ENTITY_IDCODE
        WHERE
        s.DEL_FLAG != 'Y'
        AND s.CONFIRM_STATE = 'N'
        AND S.IS_CIRCULATES_END = 'N'
        GROUP BY
        s.CUSTOMER_ENTITY_IDCODE
        ) t4 ON r.ENTITY_IDCODE = t4.ENTITY_IDCODE
        WHERE
        1 = 1
        <if test="enterpriseName!=null and enterpriseName!=''">
            AND r.ENTERPRISE_NAME like #{enterpriseName}||'%'
        </if>
        <if test="area!=null and area!=''">
            AND R.AREA like #{area}||'%'
        </if>
    </select>
    <select id="getTransactionInfoListByEntityIdcode" resultType="map" parameterType="hashmap">
        SELECT * FROM(
            SELECT
                Tab.*,ROWNUM AS rn
            FROM
                (
                SELECT * FROM (SELECT
                T .*
                FROM
                TTS_SCLTXXCJ_REGISTER_V2 R
                LEFT JOIN TTS_SCLTXXCJ_XSDJ_V2 T ON R.ENTITY_IDCODE = T .ENTITY_IDCODE
                WHERE
                1 = 1
                AND R.ENTITY_IDCODE = #{entityIdcode}
                AND T .DEL_FLAG = 'N'
                UNION ALL
                SELECT
                T .*
                FROM
                TTS_SCLTXXCJ_REGISTER_V2 R
                LEFT JOIN (
                SELECT
                X.*
                FROM
                TTS_SCLTXXCJ_XSDJ_V2 X
                INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C1 ON TRIM (X.BUY_COM_USER_ID) = TRIM (C1. ID)
                INNER JOIN TTS_SCLTXXCJ_REGISTER_V2 C2 ON TRIM (X.SALE_USER) = TRIM (C2. ID)
                ) T ON R.ENTITY_IDCODE = T .CUSTOMER_ENTITY_IDCODE
                WHERE
                1 = 1
                AND R.ENTITY_IDCODE = #{entityIdcode}
                AND T .DEL_FLAG = 'N'
                AND T .IS_CIRCULATES_END = 'N'
                ) s ORDER BY s.CREATE_TIME DESC
                        )Tab
            WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>
    <select id="getTransactionInfoCountByEntityIdcode" resultType="long" parameterType="hashmap">
        SELECT
            SUM (c)
        FROM
            (
                SELECT
                    COUNT (*) AS c
                FROM
                    TTS_SCLTXXCJ_REGISTER_V2 R
                    LEFT JOIN TTS_SCLTXXCJ_XSDJ_V2 T ON R.ENTITY_IDCODE = T .ENTITY_IDCODE
                WHERE
                    1 = 1
                    AND R.ENTITY_IDCODE = #{entityIdcode}
                    AND T .DEL_FLAG = 'N'
                UNION ALL
                SELECT
                    COUNT (*) AS c
                FROM
                    TTS_SCLTXXCJ_REGISTER_V2 R
                    LEFT JOIN (
                                  SELECT
                                      X.*
                                  FROM
                                      TTS_SCLTXXCJ_XSDJ_V2 X
                                      INNER JOIN TTS_SCLTXXCJ_CUSTOMER_V2 C1 ON TRIM (X.BUY_COM_USER_ID) = TRIM (C1. ID)
                                      INNER JOIN TTS_SCLTXXCJ_REGISTER_V2 C2 ON TRIM (X.SALE_USER) = TRIM (C2. ID)
                              ) T ON R.ENTITY_IDCODE = T .CUSTOMER_ENTITY_IDCODE
                WHERE
                    1 = 1
                    AND R.ENTITY_IDCODE = #{entityIdcode}
                    AND T .DEL_FLAG = 'N'
                    AND T .IS_CIRCULATES_END = 'N'
            )
    </select>
    <select id="getSubjEntAndPrintInfoList" parameterType="hashmap" resultType="map">
        SELECT * FROM(
            SELECT
                Tab.*,ROWNUM AS rn
            FROM
                (
                SELECT
                    r.ENTERPRISE_NAME,
                    t.PRODUCT_NAME,
                    t.PRODUCT_SORT ,
                    t.PRODUCT_SCGL_ID,
                    t.FROMZSM,
                    t.TRACE_PROOF,
                    t.CREATE_TIME
                FROM
                    TTS_SCLTXXCJ_REGISTER_V2 r,
                    (
                        SELECT
                        T1.ENTITY_IDCODE,
                        T1.PRODUCT_NAME,
                        T1.PRODUCT_SORT,
                        T1.PRODUCT_SCGL_ID,
                        T1.FROMZSM,
                        T1.TRACE_PROOF,
                        T1.CREATE_TIME
                        FROM
                            TTS_SCLTXXCJ_XSDJJL_V2 t1
                        WHERE  1=1
                        <if test="productName!=null and productName!=''">
                            AND T1.PRODUCT_NAME like '%'||#{productName}||'%'
                        </if>
                        <if test="productSort!=null and productSort!=''">
                            AND T1.PRODUCT_SORT like '%'||#{productSort}||'%'
                        </if>
                        <if test="productScglId!=null and productScglId!=''">
                            AND T1.PRODUCT_SCGL_ID like '%'||#{productScglId}||'%'
                        </if>
                        <if test="productScglId!=null and productScglId!=''">
                            or T1.FROMZSM like '%'||#{productScglId}||'%'
                        </if>
                        UNION ALL
                        SELECT
                            T2.ENTITY_IDCODE,
                            T2.PRODUCT_NAME,
                            T2.PRODUCT_SORT,
                            T2.PRODUCT_PC as PRODUCT_SCGL_ID,
                            T2.FROMZSM,
                            null as TRACE_PROOF,
                            T2.CREATE_TIME
                        FROM
                            TTS_SCLTXXCJ_SCGL_V2 t2
                        WHERE  1=1
                        <if test="productName!=null and productName!=''">
                            AND T2.PRODUCT_NAME like '%'||#{productName}||'%'
                        </if>
                        <if test="productSort!=null and productSort!=''">
                            AND T2.PRODUCT_SORT like '%'||#{productSort}||'%'
                        </if>
                        <if test="productScglId!=null and productScglId!=''">
                            AND T2.PRODUCT_PC like '%'||#{productScglId}||'%'
                        </if>
                        <if test="productScglId!=null and productScglId!=''">
                            or T2.FROMZSM like '%'||#{productScglId}||'%'
                        </if>
                    ) T WHERE  TRIM(r.ENTITY_IDCODE) = TRIM(t.ENTITY_IDCODE)
                <if test="area!=null and area!=''">
                    AND r.area like #{area}||'%'
                </if>
                <if test="enterpriseName!=null and enterpriseName!=''">
                    AND r.ENTERPRISE_NAME like '%'||#{enterpriseName}||'%'
                </if>
        ORDER BY t.CREATE_TIME DESC
                )Tab
            WHERE ROWNUM &lt;= #{pageTail}
        )
        WHERE rn &gt;= #{pageOffset}
    </select>

    <select id="getSubjEntAndPrintInfoCount" resultType="long" parameterType="hashmap">
        SELECT
         COUNT(*)
        FROM
          TTS_SCLTXXCJ_REGISTER_V2 r,
        (
        SELECT
            T1.ENTITY_IDCODE,
            T1.PRODUCT_NAME,
            T1.PRODUCT_SORT,
            T1.PRODUCT_SCGL_ID,
            T1.CREATE_TIME
        FROM
         TTS_SCLTXXCJ_XSDJJL_V2 t1
        WHERE  1=1
        <if test="productName!=null and productName!=''">
            AND T1.PRODUCT_NAME like '%'||#{productName}||'%'
        </if>
        <if test="productSort!=null and productSort!=''">
            AND T1.PRODUCT_SORT like '%'||#{productSort}||'%'
        </if>
        <if test="productScglId!=null and productScglId!=''">
            AND T1.PRODUCT_SCGL_ID like '%'||#{productScglId}||'%'
        </if>
        <if test="productScglId!=null and productScglId!=''">
            or T1.FROMZSM like '%'||#{productScglId}||'%'
        </if>
        UNION ALL
        SELECT
            T2.ENTITY_IDCODE,
            T2.PRODUCT_NAME,
            T2.PRODUCT_SORT,
            T2.PRODUCT_PC as PRODUCT_SCGL_ID,
            T2.CREATE_TIME
        FROM
          TTS_SCLTXXCJ_SCGL_V2 t2
        WHERE  1=1
        <if test="productName!=null and productName!=''">
            AND T2.PRODUCT_NAME like '%'||#{productName}||'%'
        </if>
        <if test="productSort!=null and productSort!=''">
            AND T2.PRODUCT_SORT like '%'||#{productSort}||'%'
        </if>
        <if test="productScglId!=null and productScglId!=''">
            AND T2.PRODUCT_PC like '%'||#{productScglId}||'%'
        </if>
        <if test="productScglId!=null and productScglId!=''">
            or T2.FROMZSM like '%'||#{productScglId}||'%'
        </if>
        ) T WHERE  TRIM(r.ENTITY_IDCODE) = TRIM(t.ENTITY_IDCODE)
        <if test="area!=null and area!=''">
            AND r.area like #{area}||'%'
        </if>
        <if test="enterpriseName!=null and enterpriseName!=''">
            AND r.ENTERPRISE_NAME like '%'||#{enterpriseName}||'%'
        </if>
    </select>
</mapper>